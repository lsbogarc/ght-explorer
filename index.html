<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GHT Explorer: Systems Research Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        
        .gaussian-curve {
            border-top-left-radius: 100%;
            border-top-right-radius: 100%;
            transform-origin: bottom;
            filter: blur(18px);
            transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .pillar-card { transition: all 0.3s ease; border: 1px solid rgba(0,0,0,0.05); }
        .pillar-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1); }
        
        input[type="range"] { accent-color: #2563eb; cursor: pointer; }

        /* Animation for tab switching */
        .fade-in-view {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const GHTExplorer = () => {
            const [activeTab, setActiveTab] = useState('manifesto');
            const [activePulse, setActivePulse] = useState('all');
            const [M, setM] = useState(0.4);
            const [T, setT] = useState(0.8);
            const [S, setS] = useState(0.95);

            // Robust Lucide initialization: ensures icons load on every tab/state change
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [activeTab, activePulse]);

            const calculateIi = () => ((M + T) / (1 + S)) - 1;

            const getIiInterpretation = (ii) => {
                if (ii >= 0.5) return { label: "Overprint & Displacement", color: "text-red-600", bg: "bg-red-50", desc: "High-friction overprint. Incoming system achieves hardware displacement." };
                if (ii >= 0) return { label: "Steady-State Harmonization", color: "text-yellow-600", bg: "bg-yellow-50", desc: "Moderate friction. Results in 'Melting Pot' metadata hybridization." };
                if (ii >= -0.5) return { label: "Absorption / Handshake", color: "text-green-600", bg: "bg-green-50", desc: "Low-friction 'Software Update.' Technical metadata integrated seamlessly." };
                return { label: "Rejection / Write-Back", color: "text-blue-600", bg: "bg-blue-50", desc: "Total host dominance. Incoming pulse absorbed or expelled." };
            };

            const pulses = [
                { id: 'seed', name: 'Acoustic Seed', color: 'bg-green-500', peak: '~15,000 BCE', description: 'Deep-time maritime expansion. High-resolution phonetic toolkit (Tonal, Ergative, SOV).', tech: 'Fire-Hollowed (Fiber Tension)' },
                { id: 'wedge', name: 'Structural Wedge', color: 'bg-yellow-500', peak: '~4,000 BCE', description: 'Continental inland expansion. Administrative simplification. Generated "Refuge Forcing" pressure.', tech: 'Plank-and-Nail (Rigid Frame)' },
                { id: 'domino', name: 'Domino Pulse', color: 'bg-red-500', peak: '~1,500 CE', description: 'High-velocity standardization. Total "flattening" of linguistic diversity for logistical velocity.', tech: 'High-Volume Logistical Fleets' }
            ];

            const predictions = [
                { category: "Archaeometallurgy", test: "Lead Isotope Analysis (LA-MC-ICP-MS)", prediction: "Caribbean Guanín artifacts show Sahelian cratonic signatures.", status: "not-tested", impact: "Critical" },
                { category: "Paleogenomics", test: "Ancestral Recombination Graph (ARG)", prediction: "Shared 'Basal Seed' segment-branching between Sahel and Antilles.", status: "not-tested", impact: "High" },
                { category: "Linguistics", test: "High-res humidity correlation", prediction: "Tonal stability coefficient r > 0.8 in refuges with >15 g/m³ humidity.", status: "in-progress", impact: "Moderate" },
                { category: "Genomics", test: "Population Y distribution mapping", prediction: "Highest concentration in Amazonian refuges, absent in Beringia.", status: "confirmed", impact: "Fundamental" }
            ];

            const ManifestoView = () => (
                <div className="max-w-4xl mx-auto p-6 space-y-8 fade-in-view">
                    <header className="text-center py-8">
                        <h1 className="text-5xl font-black bg-gradient-to-r from-blue-700 to-emerald-600 bg-clip-text text-transparent mb-2">GHT EXPLORER</h1>
                        <p className="text-xl text-gray-500 italic">A Systems Model of Human Cognitive Biogeography</p>
                    </header>
                    <div className="bg-white p-8 rounded-2xl shadow-xl border border-gray-100">
                        <h2 className="text-2xl font-bold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="waves" className="mr-3"></i> The Mechanical Vision
                        </h2>
                        <p className="text-lg leading-relaxed text-gray-700 mb-6">
                            Humanity moves in <strong>quantifiable waves</strong>. By decoupling biological "Hardware" from cultural "Software," we can solve anomalies that isolationist archaeology ignores.
                        </p>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="p-5 bg-blue-50 rounded-xl border-l-4 border-blue-400">
                                <strong className="block text-blue-800 mb-1 uppercase text-xs tracking-widest">Hardware</strong>
                                <span className="text-gray-600">DNA, skeletal remains, caloric inputs. Rapidly diluted over generations.</span>
                            </div>
                            <div className="p-5 bg-emerald-50 rounded-xl border-l-4 border-emerald-400">
                                <strong className="block text-emerald-800 mb-1 uppercase text-xs tracking-widest">Software</strong>
                                <span className="text-gray-600">Phonetics, metallurgy, current navigation. Highly resilient metadata.</span>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const ModelView = () => (
                <div className="max-w-6xl mx-auto p-6 space-y-6 fade-in-view">
                    <div className="flex flex-col md:flex-row justify-between items-center gap-4">
                        <h2 className="text-3xl font-black tracking-tight text-gray-800">Temporal Distribution</h2>
                        <div className="flex gap-1 bg-gray-200 p-1 rounded-xl">
                            <button onClick={() => setActivePulse('all')} className={`px-4 py-2 rounded-lg text-xs font-bold transition-all ${activePulse === 'all' ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-500'}`}>ALL</button>
                            {pulses.map(p => (
                                <button key={p.id} onClick={() => setActivePulse(p.id)} className={`px-4 py-2 rounded-lg text-xs font-bold transition-all ${activePulse === p.id ? p.color + ' text-white' : 'text-gray-500'}`}>{p.name.split(' ')[0]}</button>
                            ))}
                        </div>
                    </div>
                    <div className="bg-white p-10 rounded-3xl shadow-lg relative overflow-hidden h-96 border border-gray-100">
                        <div className="absolute inset-0 flex items-end justify-around px-20">
                            {(activePulse === 'all' || activePulse === 'seed') && <div className="gaussian-curve w-1/2 h-[45%] bg-green-400/30 border-t-2 border-green-500/50"></div>}
                            {(activePulse === 'all' || activePulse === 'wedge') && <div className="gaussian-curve w-1/3 h-[75%] bg-yellow-400/30 border-t-2 border-yellow-500/50 -translate-x-20"></div>}
                            {(activePulse === 'all' || activePulse === 'domino') && <div className="gaussian-curve w-1/4 h-[95%] bg-red-400/30 border-t-2 border-red-500/50 -translate-x-40"></div>}
                        </div>
                        <div className="absolute bottom-10 left-0 right-0 h-px bg-gray-200 mx-10"></div>
                        <div className="absolute bottom-4 left-0 right-0 flex justify-between px-10 text-[10px] font-black text-gray-400 tracking-widest uppercase">
                            <span>50,000 BCE</span><span>10,000 BCE</span><span>5,000 BCE</span><span>PRESENT</span>
                        </div>
                    </div>
                </div>
            );

            const EvidenceView = () => (
                <div className="max-w-6xl mx-auto p-6 space-y-8 fade-in-view">
                    <h2 className="text-3xl font-black text-gray-800">The Three Pillars of Validation</h2>
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        {[
                            {title: "Linguistics", icon: "book-open", color: "blue", body: "Tracking 'Acoustic Seed' metadata through humidity-tonality correlations."},
                            {title: "Genomics", icon: "target", color: "emerald", body: "Identifying 'Population Y' isolates that bypass the Beringian route."},
                            {title: "Metallurgy", icon: "flask-conical", color: "orange", body: "The Guanín 'Chemical Handshake' - 18% Au-Ag-Cu eutectic ratios."}
                        ].map((p, i) => (
                            <div key={i} className={`pillar-card bg-white p-8 rounded-2xl shadow-sm border-t-4 border-${p.color}-500 transition-all`}>
                                <i data-lucide={p.icon} className={`text-${p.color}-500 w-10 h-10 mb-4`}></i>
                                <h3 className="text-xl font-bold mb-2">{p.title}</h3>
                                <p className="text-gray-600 text-sm leading-relaxed">{p.body}</p>
                            </div>
                        ))}
                    </div>
                    <div className="bg-gray-900 text-white p-8 rounded-3xl relative overflow-hidden">
                        <div className="relative z-10">
                            <h3 className="text-xl font-bold mb-4 flex items-center"><i data-lucide="map" className="mr-3 text-blue-400"></i> Hydro-Logic Highways</h3>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 text-sm">
                                <div className="border-l-2 border-blue-500/50 pl-4 py-2"><strong>Canary Current:</strong> Sahel → Antilles. (P > 0.95 reliability)</div>
                                <div className="border-l-2 border-blue-500/50 pl-4 py-2"><strong>Kuroshio:</strong> SE Asia → Americas. (P > 0.95 reliability)</div>
                                <div className="border-l-2 border-blue-500/50 pl-4 py-2"><strong>S. Equatorial:</strong> Sumatra → Madagascar. (Benchmark)</div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const TestView = () => (
                <div className="max-w-6xl mx-auto p-6 space-y-8 fade-in-view">
                    <div className="bg-white p-8 rounded-3xl shadow-xl border border-gray-100">
                        <h3 className="text-2xl font-bold mb-8 flex items-center text-gray-800">
                            <i data-lucide="calculator" className="mr-3 text-blue-600"></i> Impregnation Index (Ii) Simulator
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-10">
                            {[
                                {label: "Mass (Demographics)", val: M, setter: setM},
                                {label: "Tech (Complexity)", val: T, setter: setT},
                                {label: "Sync (Compatibility)", val: S, setter: setS}
                            ].map(input => (
                                <div key={input.label} className="space-y-4">
                                    <div className="flex justify-between items-center">
                                        <label className="text-xs font-black text-gray-400 uppercase tracking-widest">{input.label}</label>
                                        <span className="text-blue-600 font-bold">{input.val}</span>
                                    </div>
                                    <input type="range" min="0" max="1" step="0.05" value={input.val} onChange={e=>input.setter(parseFloat(e.target.value))} className="w-full h-1.5 bg-gray-100 rounded-lg appearance-none" />
                                </div>
                            ))}
                        </div>
                        <div className={`mt-10 p-10 rounded-2xl text-center transition-all duration-500 ${getIiInterpretation(calculateIi()).bg}`}>
                            <div className={`text-7xl font-black mb-2 ${getIiInterpretation(calculateIi()).color}`}>{calculateIi().toFixed(2)}</div>
                            <div className="text-2xl font-bold text-gray-800 uppercase tracking-tight">{getIiInterpretation(calculateIi()).label}</div>
                            <p className="text-gray-500 mt-2 max-w-lg mx-auto leading-relaxed">{getIiInterpretation(calculateIi()).desc}</p>
                        </div>
                    </div>
                    
                    <div className="space-y-4">
                        <h3 className="text-xl font-bold text-gray-800 ml-1 tracking-tight">Predictive Science Roadmap</h3>
                        {predictions.map((p, i) => (
                            <div key={i} className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center group hover:border-blue-200 transition-all">
                                <div>
                                    <span className="text-[10px] font-bold text-blue-500 uppercase tracking-widest">{p.category}</span>
                                    <h4 className="font-bold text-gray-800 text-lg">{p.test}</h4>
                                    <p className="text-gray-500 text-sm">{p.prediction}</p>
                                </div>
                                <div className="text-right flex flex-col items-end gap-2">
                                    <span className={`text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-tighter ${p.status === 'confirmed' ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-400'}`}>
                                        {p.status}
                                    </span>
                                    <span className="text-[10px] font-bold text-gray-400 uppercase">Impact: {p.impact}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen">
                    <nav className="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200 p-4">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-2 font-black text-blue-600 tracking-tighter text-2xl uppercase">
                                <i data-lucide="globe"></i> GHT EXPLORER
                            </div>
                            <div className="flex gap-1 bg-gray-100 p-1 rounded-xl">
                                {['manifesto', 'model', 'evidence', 'test'].map(t => (
                                    <button 
                                        key={t} 
                                        onClick={()=>setActiveTab(t)} 
                                        className={`px-5 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${activeTab === t ? 'bg-white text-blue-600 shadow-sm' : 'text-gray-400 hover:text-gray-600'}`}
                                    >
                                        {t}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </nav>
                    
                    <main className="py-8">
                        {activeTab === 'manifesto' && <ManifestoView />}
                        {activeTab === 'model' && <ModelView />}
                        {activeTab === 'evidence' && <EvidenceView />}
                        {activeTab === 'test' && <TestView />}
                    </main>

                    <footer className="bg-gray-900 text-white py-12 px-6 mt-12">
                        <div className="max-w-4xl mx-auto text-center space-y-4">
                            <p className="font-black tracking-[0.3em] uppercase text-gray-400 text-xs">The Global Hydro-Logic Tectonic (GHT) Project</p>
                            <div className="h-px bg-gray-800 w-24 mx-auto"></div>
                            <p className="text-xs text-gray-500">DOI: 10.5281/zenodo.18370723 | © 2026 Luis Bobo</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GHTExplorer />);
    </script>
</body>
</html>
